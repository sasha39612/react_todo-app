(this["webpackJsonpreact_todo-app"]=this["webpackJsonpreact_todo-app"]||[]).push([[0],{14:function(e,t,n){e.exports=n(20)},20:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),o=n(12),r=n.n(o),l=(n(4),n(7),n(8),n(3)),u=n(5),i=n(1),s=function(e){var t=e.onAdd,n=Object(a.useState)(""),o=Object(i.a)(n,2),r=o[0],l=o[1];return c.a.createElement("div",null,c.a.createElement("form",{className:"addTodo",onSubmit:function(e){if(e.preventDefault(),r.length>0){var n={id:+new Date,title:r,completed:!1};t(n),l("")}}},c.a.createElement("input",{type:"text",className:"new-todo",placeholder:"What needs to be done?",value:r,onChange:function(e){return l(e.target.value)}})))},m=n(2),f=n.n(m),d=function(e){var t=Object(a.useState)(""),n=Object(i.a)(t,2),o=n[0],r=n[1],l=Object(a.useState)(!1),u=Object(i.a)(l,2),s=u[0],m=u[1],d=e.item,p=e.completeTodo,b=e.deleteTodo,E=e.onAddNewTitle,h=function(){if(s&&o.length>0){var e={id:d.id,title:o};E(e),m(!1),r("")}};return c.a.createElement(c.a.Fragment,null,c.a.createElement("li",{className:f()({completed:d.completed,editing:s})},c.a.createElement("div",{className:"view"},c.a.createElement("input",{type:"checkbox",className:"toggle",checked:d.completed,onChange:function(){return p(d.id)}}),!s&&c.a.createElement("label",{onDoubleClick:function(){return m(!s)}},d.title),c.a.createElement("button",{type:"button",className:"destroy",onClick:function(){return b(d.id)}})),s&&c.a.createElement("input",{type:"text",className:"edit",value:o,onChange:function(e){return r(e.target.value)},onKeyDown:function(e){"Enter"===e?h():"Escape"===e&&(E(d.title),m(!1),r(""))},onBlur:h})))};d.defaultProps={item:{}};var p=function(e){var t=Object(a.useState)(!0),n=Object(i.a)(t,2),o=n[0],r=n[1],l=e.items,u=e.deleteTodo,s=e.completeTodo,m=e.completeAllTodo,p=e.showFotter,b=e.onAddNewTitle;return c.a.createElement(c.a.Fragment,null,c.a.createElement("input",{type:"checkbox",id:"toggle-all",className:f()({"toggle-all":p,hidden:!p}),onClick:function(){o?(m(o),r(!1)):(m(o),r(!0))}}),p&&c.a.createElement("label",{htmlFor:"toggle-all"},"Mark all as complete"),c.a.createElement("ul",{className:"todo-list"},l.map((function(e){return c.a.createElement(d,{key:e.id,completeTodo:s,item:e,deleteTodo:u,onAddNewTitle:b})}))))};p.defaultProps={items:[]};var b=function(e,t,n){e.preventDefault(),t(n)},E=function(e){var t=Object(a.useState)(0),n=Object(i.a)(t,2),o=n[0],r=n[1],l=Object(a.useState)(0),u=Object(i.a)(l,2),s=u[0],m=u[1],d=e.todos,p=e.filter,E=e.onFilter,h=e.clearCompleted,O=e.showFotter,j=d.filter((function(e){return!1===e.completed})).length;Object(a.useEffect)((function(){r(j)}),[j]);var N=d.some((function(e){return!0===e.completed}));return Object(a.useEffect)((function(){m(N)}),[N]),c.a.createElement("footer",{className:f()({footer:O,hidden:!O})},c.a.createElement("span",{className:"todo-count"},"".concat(o,"  items left")),c.a.createElement("ul",{className:"filters"},c.a.createElement("li",null,c.a.createElement("a",{href:"#/",className:f()({selected:"all"===p}),onClick:function(e){return b(e,E,"all")}},"All")),c.a.createElement("li",null,c.a.createElement("a",{href:"#/",className:f()({selected:"active"===p}),onClick:function(e){return b(e,E,"active")}},"Active")),c.a.createElement("li",null,c.a.createElement("a",{href:"#/",className:f()({selected:"completed"===p}),onClick:function(e){return b(e,E,"completed")}},"Completed"))),s&&c.a.createElement("button",{type:"button",className:"clear-completed",onClick:h},"Clear completed"))};E.defaultProps={todos:[]};var h="https://mate-api.herokuapp.com",O=n(10),j=n.n(O),N=n(13),v=function(e,t){fetch("".concat(h).concat(e),{method:"POST",body:JSON.stringify(t)}).then((function(e){if(e.ok)return e.json();throw new Error("".concat(e.status," ").concat(e.statusText))})).then((function(e){return e.data}))};function g(e){return w.apply(this,arguments)}function w(){return(w=Object(N.a)(j.a.mark((function e(t){var n,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(h,"/users"));case 2:if((n=e.sent).ok){e.next=5;break}throw new Error("".concat(n.status," - ").concat(n.statusText));case 5:return e.next=7,n.json();case 7:return a=e.sent,e.abrupt("return",a.data.filter((function(e){return e.username&&0===e.username.localeCompare(t)}))[0]);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var S=function(){var e=Object(a.useState)([]),t=Object(i.a)(e,2),n=t[0],o=t[1],r=Object(a.useState)(""),m=Object(i.a)(r,2),f=m[0],d=m[1],b=Object(a.useState)(0),O=Object(i.a)(b,2),j=O[0],N=O[1],w=Object(a.useState)(""),S=Object(i.a)(w,2),k=S[0],T=S[1],y=Object(a.useState)([]),C=Object(i.a)(y,2),x=C[0],F=C[1];Object(a.useEffect)((function(){localStorage.todos&&F(JSON.parse(localStorage.getItem("todos")||"[]"))}),[]),Object(a.useEffect)((function(){o(Object(u.a)(x))}),[x]);var A=x.length>0;return Object(a.useEffect)((function(){d()}),[]),Object(a.useEffect)((function(){g("Sasha_FE_NOV20").then((function(e){return N(e.id)}))}),[]),Object(a.useEffect)((function(){g("Sasha_FE_NOV20").then((function(e){return T(e.name)}))}),[]),c.a.createElement("section",{className:"todoapp"},c.a.createElement("header",{className:"header"},!k&&c.a.createElement("div",{className:"conteiner-button"},c.a.createElement("button",{type:"button",className:"button-new",onClick:function(){v("/users",{name:"Sasha",username:"Sasha_FE_NOV20",email:"mate@example.com",phone:"1234567890"})}},"1. ADD USER"),c.a.createElement("button",{type:"button",className:"button-new",onClick:g},"2. GET USERID"),c.a.createElement("button",{type:"button",className:"button-new",onClick:function(){var e;e=j,fetch("".concat(h,"/users/").concat(e),{method:"DELETE"}).then((function(e){if(e.ok)return e.json();throw new Error("".concat(e.status," ").concat(e.statusText))})).then((function(e){return e.data}))}},"3. removeUSER")),k&&c.a.createElement("span",{className:"user-name"},"name: ".concat(k)),c.a.createElement("h1",null,"todos"),c.a.createElement(s,{onAdd:function(e){F((function(t){return[].concat(Object(u.a)(t),[e])})),localStorage.setItem("todos",JSON.stringify(x))},todos:x})),c.a.createElement("section",{className:"main"},c.a.createElement(p,{items:n,deleteTodo:function(e){F(x.filter((function(t){return t.id!==+e})))},completeTodo:function(e){F(x.map((function(t){return t.id===e?Object(l.a)(Object(l.a)({},t),{},{completed:!t.completed}):t})))},completeAllTodo:function(e){F(x.map((function(t){return Object(l.a)(Object(l.a)({},t),{},{completed:e})})))},showFotter:A,onAddNewTitle:function(e){F(x.map((function(t){return t.id===e.id?Object(l.a)(Object(l.a)({},t),{},{title:e.title}):t})))}})),c.a.createElement(E,{todos:x,filter:f,onFilter:function(e){switch(e){case"active":return o(Object(u.a)(x.filter((function(e){return!1===e.completed}))));case"completed":return o(Object(u.a)(x.filter((function(e){return!0===e.completed}))));default:return o(Object(u.a)(x))}},clearCompleted:function(){F(x.filter((function(e){return!e.completed})))},showFotter:A}))};r.a.render(c.a.createElement(S,null),document.getElementById("root"))},4:function(e,t,n){},7:function(e,t,n){},8:function(e,t,n){}},[[14,1,2]]]);
//# sourceMappingURL=main.0a1f2f61.chunk.js.map
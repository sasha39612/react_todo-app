(this["webpackJsonpreact_todo-app"]=this["webpackJsonpreact_todo-app"]||[]).push([[0],{10:function(e,t,n){},14:function(e,t,n){e.exports=n(20)},20:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(13),o=n.n(r),u=(n(6),n(9),n(10),n(5)),l=n(8),s=n(2),i=n.n(s),m=n(4),f=n(1),d=function(e){var t=e.onAdd,n=e.userId,r=Object(a.useState)(""),o=Object(f.a)(r,2),u=o[0],l=o[1];return c.a.createElement("div",null,c.a.createElement("form",{className:"addTodo",onSubmit:function(e){if(e.preventDefault(),u.length>0){var a={userId:n,id:+new Date,title:u,completed:!1};t(a),l("")}}},c.a.createElement("input",{type:"text",className:"new-todo",placeholder:"What needs to be done?",value:u,onChange:function(e){return l(e.target.value)}})))},p=n(3),h=n.n(p),b=function(e){var t=Object(a.useState)(""),n=Object(f.a)(t,2),r=n[0],o=n[1],u=Object(a.useState)(!1),l=Object(f.a)(u,2),s=l[0],i=l[1],m=e.item,d=e.completeTodo,p=e.deleteTodo,b=e.onAddNewTitle,E=function(){if(s&&r.length>0){var e={id:m.id,title:r};b(e),i(!1),o("")}};return c.a.createElement(c.a.Fragment,null,c.a.createElement("li",{className:h()({completed:m.completed,editing:s})},c.a.createElement("div",{className:"view"},c.a.createElement("input",{type:"checkbox",className:"toggle",checked:m.completed,onChange:function(){return d(m.id)}}),!s&&c.a.createElement("label",{onDoubleClick:function(){return i(!s)}},m.title),c.a.createElement("button",{type:"button",className:"destroy",onClick:function(){return p(m.id)}})),s&&c.a.createElement("input",{type:"text",className:"edit",value:r,onChange:function(e){return o(e.target.value)},onKeyDown:function(e){"Enter"===e?E():"Escape"===e&&(b(m.title),i(!1),o(""))},onBlur:E})))};b.defaultProps={item:{}};var E=function(e){var t=Object(a.useState)(!0),n=Object(f.a)(t,2),r=n[0],o=n[1],u=e.items,l=e.deleteTodo,s=e.completeTodo,i=e.completeAllTodo,m=e.showFotter,d=e.onAddNewTitle;return c.a.createElement(c.a.Fragment,null,c.a.createElement("input",{type:"checkbox",id:"toggle-all",className:h()({"toggle-all":m,hidden:!m}),onClick:function(){r?(i(r),o(!1)):(i(r),o(!0))}}),m&&c.a.createElement("label",{htmlFor:"toggle-all"},"Mark all as complete"),c.a.createElement("ul",{className:"todo-list"},u.map((function(e){return c.a.createElement(b,{key:e.id,completeTodo:s,item:e,deleteTodo:l,onAddNewTitle:d})}))))};E.defaultProps={items:[]};var O=function(e,t,n){e.preventDefault(),t(n)},j=function(e){var t=Object(a.useState)(0),n=Object(f.a)(t,2),r=n[0],o=n[1],u=Object(a.useState)(0),l=Object(f.a)(u,2),s=l[0],i=l[1],m=e.todos,d=e.filter,p=e.onFilter,b=e.clearCompleted,E=e.showFotter,j=m.filter((function(e){return!1===e.completed})).length;Object(a.useEffect)((function(){o(j)}),[j]);var v=m.some((function(e){return!0===e.completed}));return Object(a.useEffect)((function(){i(v)}),[v]),c.a.createElement("footer",{className:h()({footer:E,hidden:!E})},c.a.createElement("span",{className:"todo-count"},"".concat(r,"  items left")),c.a.createElement("ul",{className:"filters"},c.a.createElement("li",null,c.a.createElement("a",{href:"#/",className:h()({selected:"all"===d}),onClick:function(e){return O(e,p,"all")}},"All")),c.a.createElement("li",null,c.a.createElement("a",{href:"#/",className:h()({selected:"active"===d}),onClick:function(e){return O(e,p,"active")}},"Active")),c.a.createElement("li",null,c.a.createElement("a",{href:"#/",className:h()({selected:"completed"===d}),onClick:function(e){return O(e,p,"completed")}},"Completed"))),s&&c.a.createElement("button",{type:"button",className:"clear-completed",onClick:b},"Clear completed"))};j.defaultProps={todos:[]};var v="https://mate-api.herokuapp.com",w=function(){var e,t;e="/users",t={name:"Sasha",username:"Sasha_FE_NOV20",email:"mate@example.com",phone:"1234567890"},fetch("".concat(v).concat(e),{method:"POST",body:JSON.stringify(t)}).then((function(e){if(e.ok)return e.json();throw new Error("".concat(e.status," ").concat(e.statusText))})).then((function(e){return e.data}))};function N(e){return k.apply(this,arguments)}function k(){return(k=Object(m.a)(i.a.mark((function e(t){var n,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(v,"/users"));case 2:if((n=e.sent).ok){e.next=5;break}throw new Error("".concat(n.status," - ").concat(n.statusText));case 5:return e.next=7,n.json();case 7:return a=e.sent,e.abrupt("return",a.data.filter((function(e){return e.username&&0===e.username.localeCompare(t)}))[0]);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(e){return x.apply(this,arguments)}function x(){return(x=Object(m.a)(i.a.mark((function e(t){var n,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(v,"/todos"));case 2:if((n=e.sent).ok){e.next=5;break}throw new Error("".concat(n.status," - ").concat(n.statusText));case 5:return e.next=7,n.json();case 7:return a=e.sent,e.abrupt("return",a.data.filter((function(e){return e.userId===t})));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var g=function(e){var t,n,a=e.userId,c=e.title,r=e.completed;t="/todos",n={userId:a,title:c,completed:r},fetch("".concat(v).concat(t),{method:"POST",body:JSON.stringify(n)}).then((function(e){if(e.ok)return e.json();throw new Error("".concat(e.status," ").concat(e.statusText))})).then((function(e){return e.data}))};var y=function(){var e=Object(a.useState)([]),t=Object(f.a)(e,2),n=t[0],r=t[1],o=Object(a.useState)(""),s=Object(f.a)(o,2),p=s[0],h=s[1],b=Object(a.useState)(0),O=Object(f.a)(b,2),k=O[0],x=O[1],y=Object(a.useState)(""),S=Object(f.a)(y,2),C=S[0],F=S[1],A=Object(a.useState)([]),D=Object(f.a)(A,2),I=D[0],_=D[1],P=function(){var e=Object(m.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T(t);case 2:n=e.sent,_(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){P(k)}),[k]);var J=function(){var e=Object(m.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g(t);case 2:return e.next=4,P(k);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){r(Object(l.a)(I))}),[I]),Object(a.useEffect)((function(){N("Sasha_FE_NOV20").then((function(e){return x(e.id)}))}),[]),Object(a.useEffect)((function(){N("Sasha_FE_NOV20").then((function(e){return F(e.name)}))}),[]),c.a.createElement("section",{className:"todoapp"},c.a.createElement("header",{className:"header"},!C&&c.a.createElement("div",{className:"conteiner-button"},c.a.createElement("button",{type:"button",className:"button-new",onClick:function(){w()}},"1. ADD USER"),c.a.createElement("button",{type:"button",className:"button-new",onClick:N},"2. GET USERID"),c.a.createElement("button",{type:"button",className:"button-new",onClick:function(){var e;e=k,fetch("".concat(v,"/users/").concat(e),{method:"DELETE"}).then((function(e){if(e.ok)return e.json();throw new Error("".concat(e.status," ").concat(e.statusText))})).then((function(e){return e.data}))}},"3. removeUSER")),C&&c.a.createElement("span",{className:"user-name"},"name: ".concat(C)),c.a.createElement("h1",null,"todos"),c.a.createElement(d,{onAdd:J,todos:I,userId:k})),c.a.createElement("section",{className:"main"},c.a.createElement(E,{items:n,deleteTodo:function(e){var t;t=e,fetch("".concat(v,"/todos/").concat(t),{method:"DELETE"}).then((function(e){if(e.ok)return e.json();throw new Error("".concat(e.status," ").concat(e.statusText))})).then((function(e){return e.data})),P(k)},completeTodo:function(e){_(I.map((function(t){return t.id===e?Object(u.a)(Object(u.a)({},t),{},{completed:!t.completed}):t})))},completeAllTodo:function(e){_(I.map((function(t){return Object(u.a)(Object(u.a)({},t),{},{completed:e})})))},showFotter:I.length>0,onAddNewTitle:function(e){_(I.map((function(t){return t.id===e.id?Object(u.a)(Object(u.a)({},t),{},{title:e.title}):t})))}})),c.a.createElement(j,{todos:I,filter:p,onFilter:function(e){switch(h(e),e){case"active":return r(Object(l.a)(I.filter((function(e){return!1===e.completed}))));case"completed":return r(Object(l.a)(I.filter((function(e){return!0===e.completed}))));default:return r(Object(l.a)(I))}},clearCompleted:function(){_(I.filter((function(e){return!e.completed})))},showFotter:I.length>0}))};o.a.render(c.a.createElement(y,null),document.getElementById("root"))},6:function(e,t,n){},9:function(e,t,n){}},[[14,1,2]]]);
//# sourceMappingURL=main.143c6556.chunk.js.map